
<!DOCTYPE html>

<html lang="en" class="__variable_42f43f __variable_403256 __variable_57fc85 __variable_34e0db">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#141413">
	<title>Unsubscribe | Gatara AI</title>
	<link rel="icon" type="image/png" href="/logo.png">
	<link rel="apple-touch-icon" href="/logo.png">
	<link rel="apple-touch-icon" href="/logo.png" sizes="180x180">
	
	<!-- CSS imports from book-call -->
	<link rel="stylesheet" href="../../book-call/book-call/05f26799581622a7.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/4563406689594623.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/7851968f92a2a6dc.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/da6d6678cc431616.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/fb0526ef74a9b746.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/141e966c466484ce.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/60a6eb6d0fe040c5.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/ea6c171c0ada55a5.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/ef9d40123f42bec8.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/d250c0297e6bf4a1.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/632c646e62f21123.css" data-precedence="next">
	<link rel="stylesheet" href="../../book-call/book-call/29f3230b176e00de.css" data-precedence="next">
	<link rel="stylesheet" href="../../home/91315883a9b46a52.css" data-precedence="next">
	<link rel="stylesheet" href="../../home/166acf0bb0be8c25.css" data-precedence="next">
	
	<meta name="next-size-adjust">
	<style type="text/css">
		span{
			font-family: 'Product Sans Regular' !important;
			font-size: 21px !important;
		}
		legend {
			font-family: 'Product Sans Regular' !important;
			font-size: 17px !important;
		}
		label{
			font-family: 'Product Sans Regular' !important;
			font-size: 15px !important;
		}
		select{
			font-family: 'Product Sans Regular' !important;
			font-size: 20px !important;
		}
		input{
			font-family: 'Product Sans Regular' !important;
			font-size: 20px !important;
		}
		
		.page-title {
			font-size: 2.5rem;
			text-align: center;
			margin-bottom: 1rem;
			color: #141413;
		}
		
		.page-subtitle {
			font-size: 1.2rem;
			text-align: center;
			margin-bottom: 2rem;
			color: #555;
		}
		
		.page-wrapper {
			max-width: 1200px;
			margin: 0 auto;
			padding: 4rem 2rem;
		}
		
		.form {
			background-color: #fff;
			border-radius: 12px;
			padding: 2rem;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
		}
		
		.form-field {
			margin-bottom: 1.5rem;
		}
		
		.form-field label {
			display: block;
			margin-bottom: 0.5rem;
			color: #333;
		}
		
		.form-field input {
			width: 100%;
			padding: 0.75rem 1rem;
			border: 1px solid #ddd;
			border-radius: 8px;
			transition: border-color 0.3s;
		}
		
		.form-field input:focus {
			border-color: #141413;
			outline: none;
		}
		
		.form-submit {
			margin-top: 2rem;
			text-align: center;
		}
		
		.btn-primary {
			background-color: #141413;
			color: white;
			border: none;
			padding: 0.75rem 2rem;
			border-radius: 8px;
			font-size: 18px;
			cursor: pointer;
			transition: background-color 0.3s;
      font-family: 'Product Sans Regular' !important;

		}
		
		.btn-primary:hover {
			background-color: #333;
		}
		
		.result-message {
			margin-top: 1.5rem;
			text-align: center;
			padding: 1rem;
			border-radius: 8px;
		}
		
		@media (max-width: 768px) {
			.page-wrapper {
				padding: 2rem 1rem;
			}
			
			.page-title {
				font-size: 2rem;
			}
			
			.form {
				padding: 1.5rem;
			}
		}
		.required-mark {
			color: red;
			margin-left: 3px;
		}
		
		.error-message {
			font-family: 'Product Sans Regular' !important;
			font-size: 14px !important;
		}
		
		
	</style>
	
	<link rel="stylesheet" media="all" href="/main.css">
</head>

<body>
	<!-- Header Placeholder -->
	<div id="header-placeholder"></div>

	<main id="main" class="">
		<article>
			<section class="LandingPageSection_root__nbLb0" data-theme="light">
				<div class="page-wrapper">
					<h2 class="page-title" style="font-family: 'Product Sans Medium Regular' !important; margin-bottom: 15px;">Unsubscribe from the Products Newsletter</h2>
					<p class="page-subtitle">We're sorry to see you go. Please confirm your email address below.</p>
					
					<div class="HubspotForm_grid__JDdxw xs:grid xs:grid-12">
						<div class="xs:col-start-1 xs:col-span-12 s:col-span-6 s:col-start-4">
							<form id="unsubscribe-form" class="form">
								<div class="form-field">
									<label for="email" style="font-family: 'Product Sans Regular' !important;">Email Address</label>
									<input type="email" id="email" name="email" placeholder="Your email address" required>
								</div>
								<div class="form-field">
									<label for="reason" style="font-family: 'Product Sans Regular' !important;">Why are you unsubscribing?</label>
									<textarea id="reason" name="reason" placeholder="Please tell us why you're unsubscribing..." rows="3" required style="width: 100%; padding: 0.75rem 1rem; border: 1px solid #ddd; border-radius: 8px; transition: border-color 0.3s; font-family: 'Product Sans Regular' !important; font-size: 20px !important;"></textarea>
									<div id="reason-error" class="error-message" style="color: red; font-size: 14px; margin-top: 5px; display: none;">Please tell us more!</div>
								</div>

								<div class="form-submit">
									<button type="submit" class="btn-primary">Unsubscribe</button>
								</div>
							</form>
							<div id="unsubscribe-result" class="result-message"></div>
						</div>
					</div>
				</div>
			</section>
		</article>
	</main>

	<!-- Footer Placeholder -->
	<div id="footer-placeholder"></div>

	<script type="module" src="/src/js/main.js"></script>
  <script type="module">
  document.addEventListener('DOMContentLoaded', () => {
  const unsubscribeForm = document.getElementById('unsubscribe-form');
  const resultDiv = document.getElementById('unsubscribe-result');
  const reasonField = document.getElementById('reason');
  const reasonError = document.getElementById('reason-error');

  if (unsubscribeForm) {
    unsubscribeForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const email = unsubscribeForm.querySelector('#email').value.trim();
      const reason = reasonField.value.trim();
      
      // Validate email
      if (!email) {
        resultDiv.textContent = 'Please enter a valid email address.';
        resultDiv.style.color = 'red';
        return;
      }
      
      // Validate reason (minimum 5 words)
      const wordCount = reason.split(/\s+/).filter(word => word.length > 0).length;
      if (wordCount < 5) {
        reasonError.style.display = 'block';
        reasonField.style.borderColor = 'red';
        return;
      } else {
        reasonError.style.display = 'none';
        reasonField.style.borderColor = '#ddd';
      }

      // Optional: show loader
      resultDiv.innerHTML = '<div class="loader">Unsubscribing...</div>';

      try {
        // Construct the URL with query parameters
        const url = new URL('https://script.google.com/macros/s/AKfycbz21NjoJ0o6_Ae_HtHD88NdcwNS8VnKst5GkRWdeg83UG9NyCE2wFP7jYOO2M7zSqYEkg/exec');
        url.searchParams.append('action', 'unsubscribe');
        url.searchParams.append('email', email);
        url.searchParams.append('reason', reason);

        // Send a GET request
        const response = await fetch(url, {
          method: 'GET',
          redirect: 'follow' // Follow redirects (required for Google Apps Script)
        });

        if (response.ok) {
          const text = await response.text();
          resultDiv.textContent = text;
          
          if (text === 'Unsubscribed') {
            resultDiv.style.color = 'green';
          } else {
            resultDiv.style.color = 'red';
          }
          
          unsubscribeForm.reset();
        } else {
          throw new Error('Network response was not ok');
        }
      } catch (err) {
        resultDiv.textContent = 'Something went wrong. Please try again.';
        resultDiv.style.color = 'red';
        console.error(err);
      }
    });
    
    // Add input event listener to hide error when user types
    reasonField.addEventListener('input', () => {
      const wordCount = reasonField.value.trim().split(/\s+/).filter(word => word.length > 0).length;
      if (wordCount >= 5) {
        reasonError.style.display = 'none';
        reasonField.style.borderColor = '#ddd';
      }
    });
  }
});


  </script>
</body>
</html>
